<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¯Ø¬Ø§Ø¬ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰</title>
<style>
  body { font-family: Arial, sans-serif; text-align:center; background: linear-gradient(#f0f8ff, #d0f0c0); }
  h1 { margin-top: 20px; color: #ff6600; }
  #money, #tasks { font-size: 20px; margin: 10px; }
  #farm { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
  .chicken { display: flex; flex-direction: column; align-items:center; margin: 10px; font-size: 32px; cursor:pointer; transition: transform 0.2s; }
  .chicken:hover { transform: scale(1.2); }
  .egg { font-size: 32px; margin-top: 5px; cursor:pointer; animation: bounce 1s infinite; }
  @keyframes bounce { 0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);} }
  button { padding:10px 20px; margin:10px; font-size:16px; cursor:pointer; border-radius:8px; background:#ff9900; color:white; border:none; transition: background 0.2s; }
  button:hover { background:#ff6600; }
</style>
</head>
<body>

<h1>ğŸ” Ù„Ø¹Ø¨Ø© ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¯Ø¬Ø§Ø¬ - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰ ğŸ¥š</h1>
<div id="money">ğŸ’° Ø£Ø±Ø¨Ø§Ø­Ùƒ: 0</div>
<div id="tasks">ğŸ¯ Ù…Ù‡Ù…Ø© Ø§Ù„ÙŠÙˆÙ…: 0 / 50 Ø¨ÙŠØ¶</div>
<div id="farm"></div>
<div>
  <button onclick="buyChicken()">Ø´Ø±Ø§Ø¡ Ø¯Ø¬Ø§Ø¬Ø© ğŸ” (50ğŸ’°)</button>
  <button onclick="upgradeCage()">ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù‚ÙØµ ğŸ—ï¸</button>
  <button onclick="openShop()">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</button>
  <button onclick="showLeaderboard()">ğŸ“Š ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</button>
</div>

<script>
let money = localStorage.getItem('money') ? parseInt(localStorage.getItem('money')) : 0;
let cageLevel = localStorage.getItem('cageLevel') ? parseInt(localStorage.getItem('cageLevel')) : 1;
let chickens = localStorage.getItem('chickens') ? JSON.parse(localStorage.getItem('chickens')) : [{eggReady:false}];
let dailyCollected = localStorage.getItem('dailyCollected') ? parseInt(localStorage.getItem('dailyCollected')) : 0;

// Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
function save() {
  localStorage.setItem('money', money);
  localStorage.setItem('cageLevel', cageLevel);
  localStorage.setItem('chickens', JSON.stringify(chickens));
  localStorage.setItem('dailyCollected', dailyCollected);
}

// ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚ÙˆØ¯ ÙˆØ§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
function updateStatus() {
  document.getElementById('money').innerText = `ğŸ’° Ø£Ø±Ø¨Ø§Ø­Ùƒ: ${money}`;
  document.getElementById('tasks').innerText = `ğŸ¯ Ù…Ù‡Ù…Ø© Ø§Ù„ÙŠÙˆÙ…: ${dailyCollected} / 50 Ø¨ÙŠØ¶`;
}

// Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¨ÙŠØ¶ Ù„ÙƒÙ„ Ø¯Ø¬Ø§Ø¬Ø©
function layEgg(index) {
  chickens[index].eggReady = true;
  renderFarm();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©
function renderFarm() {
  const farm = document.getElementById('farm');
  farm.innerHTML = '';
  chickens.forEach((ch, i) => {
    const div = document.createElement('div');
    div.className = 'chicken';
    div.innerHTML = `ğŸ”<br>` + (ch.eggReady ? `<span class="egg" onclick="collectEgg(${i})">ğŸ¥š</span>` : '');
    farm.appendChild(div);
  });
}

// Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ¶
function collectEgg(index) {
  if(chickens[index].eggReady){
    money += 10;
    chickens[index].eggReady = false;
    dailyCollected++;
    if(dailyCollected>=50) { alert('ğŸ‰ Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ù…Ù‡Ù…Ø© Ø§Ù„ÙŠÙˆÙ…! Ù…ÙƒØ§ÙØ£Ø©: 100 ğŸ’°'); money+=100; dailyCollected=0; }
    setTimeout(() => layEgg(index), 5000/cageLevel);
    save();
    updateStatus();
    renderFarm();
  }
}

// Ø´Ø±Ø§Ø¡ Ø¯Ø¬Ø§Ø¬Ø©
function buyChicken() {
  if(money>=50){
    money-=50;
    chickens.push({eggReady:false});
    setTimeout(() => layEgg(chickens.length-1), 5000/cageLevel);
    save();
    updateStatus();
    renderFarm();
  } else alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ù…Ø§Ù„!');
}

// ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù‚ÙØµ
function upgradeCage() {
  const cost = cageLevel*100;
  if(money>=cost){
    money-=cost;
    cageLevel++;
    save();
    updateStatus();
    alert('ØªÙ… ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù‚ÙØµ! Ø§Ù„Ø¢Ù† Ø£Ø³Ø±Ø¹ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¨ÙŠØ¶.');
  } else alert(`ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ±Ù‚ÙŠØ©: ${cost} ğŸ’°`);
}

// Ù…ØªØ¬Ø± Ø¨ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ¶
function openShop() {
  let eggsAvailable = chickens.filter(ch=>ch.eggReady).length;
  let toSell = Math.min(10, eggsAvailable);
  if(toSell>0){
    chickens.forEach(ch=>{ if(ch.eggReady && toSell>0){ ch.eggReady=false; toSell--; money+=10; }});
    save();
    updateStatus();
    renderFarm();
    alert('ØªÙ… Ø¨ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ¶! ğŸ’°');
  } else alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø¨ÙŠØ¶ Ù„Ù„Ø¨ÙŠØ¹!');
}

// Ù„ÙˆØ­Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† (Ù…Ø­Ù„ÙŠØ§Ù‹)
function showLeaderboard() {
  alert(`ğŸ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ø­Ù„ÙŠÙ‹Ø§:\nÙ…Ø§Ù„Ùƒ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ: ${money} ğŸ’°`);
}

// Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
chickens.forEach((_, i)=>{ if(!chickens[i].eggReady) setTimeout(()=>layEgg(i), 5000/cageLevel); });
updateStatus();
renderFarm();
</script>

</body>
</html>
